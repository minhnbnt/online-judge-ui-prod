import{d as nt,t as _,a as l,c as Q}from"../chunks/BCv-PhoZ.js";import"../chunks/B_iCwUiu.js";import{p as X,c as s,s as c,r as e,t as P,a as Y,J as i,a5 as U,ar as lt,as as dt,f as W,ag as ct,aq as vt,a4 as ft}from"../chunks/BHJITWWH.js";import{a as gt}from"../chunks/Mi9Mf9hk.js";import{s as mt,i as q,b as ut,p as _t}from"../chunks/DD66ZWTu.js";import{t as pt,f as bt}from"../chunks/BN3J5Hla.js";import{i as ht}from"../chunks/sEuScinW.js";import{f as xt}from"../chunks/BrP5ifZ5.js";import{L as wt}from"../chunks/mSpJNEW8.js";import{s as h}from"../chunks/09-kDerc.js";import{e as yt,i as kt}from"../chunks/yNc1Uh6E.js";import{c as x,s as w}from"../chunks/1ww8kltg.js";import{l as Ct}from"../chunks/Cj-Uaf48.js";import{i as Pt,b as It,u as Rt}from"../chunks/C3JyOOO9.js";import{g as St}from"../chunks/Cthip-ge.js";import{i as jt}from"../chunks/D-zHGvuz.js";import{t as u}from"../chunks/AdmevC4f.js";const At=async({url:v})=>{const o=v.searchParams.get("page");let d=1;return o!==null&&(d=parseInt(o)),{activePage:d}},oa=Object.freeze(Object.defineProperty({__proto__:null,load:At},Symbol.toStringTag,{value:"Module"}));async function Lt(v){if(!await Pt())return;const o=await It(),d=await jt.get(`/submissions/get/${v}`,o);await St(`/submissions/${d.data.viewId}`)}var Mt=_('<td class="font-medium"> </td>'),Nt=_("<td> </td>"),zt=(v,o)=>Lt(o()),Ot=_('<td class="cursor-pointer text-left"> </td>'),Et=_('<td class="text-left"> </td>'),Tt=_("<tr><td> </td><!><!><td> </td><td> </td></tr>"),qt=_('<table class="w-full table-fixed bg-white px-10 dark:border-gray-500 dark:bg-gray-900 dark:text-white"><thead class="bg-gray-50 font-bold dark:bg-gray-800"><tr><th>ID</th><th>Submittor</th><th>Problem</th><th>Language</th><th>Result</th></tr></thead><tbody></tbody></table>');function Dt(v,o){X(o,!0);const[d,A]=mt(),L=()=>ut(Rt,"$userInfo",d),I=new Map;Ct.forEach(({name:m,compiler:r})=>{I.set(r,m)});const f="p-2 px-4",g=u("dark:border-gray-500","select-none border-t text-center","even:bg-gray-50 dark:even:bg-gray-800"),n=u(g,"dark:hover:bg-blue-950","transition-colors duration-200 hover:bg-blue-50");function y(m){let r="text-red-600";return m==="AC"?r="text-green-600":m==="CE"&&(r="text-gray-600"),u(r,f)}var R=qt(),S=s(R),k=s(S),p=s(k),M=c(p),D=c(M),H=c(D),Z=c(H);e(k),e(S);var J=c(S);yt(J,21,()=>o.submissions,kt,(m,r)=>{let N=()=>i(r).id,j=()=>i(r).owner,C=()=>i(r).problem,$=()=>i(r).language,V=()=>i(r).judgeResult;var z=Tt();const B=U(()=>{var t;return((t=L())==null?void 0:t.username)===j()}),F=U(()=>{var t;return((t=L())==null?void 0:t.is_staff)||i(B)});var O=s(z),tt=s(O,!0);e(O);var G=c(O);{var at=t=>{var a=Mt(),b=s(a,!0);e(a),P(()=>h(b,j())),l(t,a)},et=t=>{var a=Nt(),b=s(a,!0);e(a),P(()=>h(b,j())),l(t,a)};q(G,t=>{i(B)?t(at):t(et,!1)})}var K=c(G);{var rt=t=>{var a=Ot();a.__click=[zt,N];var b=s(a);e(a),P(()=>h(b,`${C().id??""} - ${C().title??""}`)),l(t,a)},st=t=>{var a=Et(),b=s(a);e(a),P(()=>h(b,`${C().id??""} - ${C().title??""}`)),l(t,a)};q(K,t=>{i(F)?t(rt):t(st,!1)})}var E=c(K),ot=s(E,!0);e(E);var T=c(E),it=s(T,!0);e(T),e(z),P((t,a)=>{w(z,1,x(i(F)?n:g)),h(tt,N()),h(ot,t),w(T,1,a),h(it,V())},[()=>I.get($()),()=>x(y(V()))]),l(m,z)}),e(J),e(R),P((m,r,N,j,C)=>{w(p,1,m),w(M,1,r),w(D,1,N),w(H,1,j),w(Z,1,C)},[()=>x(u(f,"w-[50px]")),()=>x(u(f,"w-[150px]")),()=>x(u(f,"text-left")),()=>x(u(f,"w-[100px]")),()=>x(u(f,"w-[80px]"))]),l(v,R),Y(),A()}nt(["click"]);var Ht=_('<div class="m-10 max-w-full overflow-hidden rounded-lg border shadow dark:border-gray-500"><!></div>'),Jt=_('<div class="m-10 flex h-12 justify-center dark:border-gray-500"><!></div>');function ia(v,o){X(o,!1);const d=vt();let A=_t(o,"activePage",8);async function L(g){const{results:n}=await xt("/submissions",g);return n}lt(()=>ft(A()),()=>{ct(d,L(A()))}),dt(),ht();var I=Q(),f=W(I);gt(f,()=>i(d),g=>{var n=Jt(),y=s(n);wt(y,{class:"size-12"}),e(n),l(g,n)},(g,n)=>{var y=Q(),R=W(y);{var S=k=>{var p=Ht(),M=s(p);Dt(M,{get submissions(){return i(n)}}),e(p),pt(3,p,()=>bt,()=>({duration:200})),l(k,p)};q(R,k=>{i(n).length>0&&k(S)})}l(g,y)}),l(v,I),Y()}export{ia as component,oa as universal};
