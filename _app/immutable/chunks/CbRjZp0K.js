import{d as pr,t as g,a as m}from"./BCv-PhoZ.js";import{p as Z,a as rr,c as d,r as f,D as er,f as hr,J as F,af as Fr,s as x,ag as xr,t as q,a5 as _r}from"./BHJITWWH.js";import{s as Sr}from"./CcEf4Hay.js";import"./B_iCwUiu.js";import{s as y,c as b}from"./1ww8kltg.js";import{i as wr}from"./sEuScinW.js";import{t as k}from"./AdmevC4f.js";import{s as tr}from"./09-kDerc.js";import{i as L,s as Or,b as Q}from"./DD66ZWTu.js";import{s as N}from"./CBxgTVEl.js";import{t as vr,a as kr}from"./BN3J5Hla.js";import{g as jr,b as Ar}from"./Cthip-ge.js";import{I as nr,A as Cr,D as Nr,c as Er}from"./BYcPjXOD.js";import{L as Ir}from"./mSpJNEW8.js";import{p as $r}from"./yKBzaXUO.js";import{c as Ur,u as Dr,d as Rr}from"./C3JyOOO9.js";import{t as Lr}from"./C-2eXo6w.js";import{e as Tr,i as Mr}from"./yNc1Uh6E.js";import{L as qr}from"./BxOkwtCs.js";const ar="%[a-f0-9]{2}",W=new RegExp("("+ar+")|([^%]+?)","gi"),X=new RegExp("("+ar+")+","gi");function T(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;const t=r.slice(0,e),n=r.slice(e);return Array.prototype.concat.call([],T(t),T(n))}function Pr(r){try{return decodeURIComponent(r)}catch{let e=r.match(W)||[];for(let t=1;t<e.length;t++)r=T(e,t).join(""),e=r.match(W)||[];return r}}function Vr(r){const e={"%FE%FF":"��","%FF%FE":"��"};let t=X.exec(r);for(;t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{const a=Pr(t[0]);a!==t[0]&&(e[t[0]]=a)}t=X.exec(r)}e["%C2"]="�";const n=Object.keys(e);for(const a of n)r=r.replace(new RegExp(a,"g"),e[a]);return r}function zr(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return decodeURIComponent(r)}catch{return Vr(r)}}function Br(r,e){const t={};if(Array.isArray(e))for(const n of e){const a=Object.getOwnPropertyDescriptor(r,n);a!=null&&a.enumerable&&Object.defineProperty(t,n,a)}else for(const n of Reflect.ownKeys(r)){const a=Object.getOwnPropertyDescriptor(r,n);if(a.enumerable){const s=r[n];e(n,s,r)&&Object.defineProperty(t,n,a)}}return t}function sr(r,e){if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(r===""||e==="")return[];const t=r.indexOf(e);return t===-1?[]:[r.slice(0,t),r.slice(t+e.length)]}const Hr=r=>r==null,Kr=r=>encodeURIComponent(r).replaceAll(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),M=Symbol("encodeFragmentIdentifier");function Jr(r){switch(r.arrayFormat){case"index":return e=>(t,n)=>{const a=t.length;return n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[c(e,r),"[",a,"]"].join("")]:[...t,[c(e,r),"[",c(a,r),"]=",c(n,r)].join("")]};case"bracket":return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[c(e,r),"[]"].join("")]:[...t,[c(e,r),"[]=",c(n,r)].join("")];case"colon-list-separator":return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[c(e,r),":list="].join("")]:[...t,[c(e,r),":list=",c(n,r)].join("")];case"comma":case"separator":case"bracket-separator":{const e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(n,a)=>a===void 0||r.skipNull&&a===null||r.skipEmptyString&&a===""?n:(a=a===null?"":a,n.length===0?[[c(t,r),e,c(a,r)].join("")]:[[n,c(a,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,c(e,r)]:[...t,[c(e,r),"=",c(n,r)].join("")]}}function Gr(r){let e;switch(r.arrayFormat){case"index":return(t,n,a)=>{if(e=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!e){a[t]=n;return}a[t]===void 0&&(a[t]={}),a[t][e[1]]=n};case"bracket":return(t,n,a)=>{if(e=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!e){a[t]=n;return}if(a[t]===void 0){a[t]=[n];return}a[t]=[...a[t],n]};case"colon-list-separator":return(t,n,a)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){a[t]=n;return}if(a[t]===void 0){a[t]=[n];return}a[t]=[...a[t],n]};case"comma":case"separator":return(t,n,a)=>{const s=typeof n=="string"&&n.includes(r.arrayFormatSeparator),i=typeof n=="string"&&!s&&u(n,r).includes(r.arrayFormatSeparator);n=i?u(n,r):n;const o=s||i?n.split(r.arrayFormatSeparator).map(l=>u(l,r)):n===null?n:u(n,r);a[t]=o};case"bracket-separator":return(t,n,a)=>{const s=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!s){a[t]=n&&u(n,r);return}const i=n===null?[]:u(n,r).split(r.arrayFormatSeparator);if(a[t]===void 0){a[t]=i;return}a[t]=[...a[t],...i]};default:return(t,n,a)=>{if(a[t]===void 0){a[t]=n;return}a[t]=[...[a[t]].flat(),n]}}}function ir(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(r,e){return e.encode?e.strict?Kr(r):encodeURIComponent(r):r}function u(r,e){return e.decode?zr(r):r}function or(r){return Array.isArray(r)?r.sort():typeof r=="object"?or(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function cr(r){const e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function Qr(r){let e="";const t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function Y(r,e,t){return t==="string"&&typeof r=="string"?r:typeof t=="function"&&typeof r=="string"?t(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")?r.toLowerCase()==="true":t==="number"&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""||e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?Number(r):r}function P(r){r=cr(r);const e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function V(r,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...e},ir(e.arrayFormatSeparator);const t=Gr(e),n=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return n;for(const a of r.split("&")){if(a==="")continue;const s=e.decode?a.replaceAll("+"," "):a;let[i,o]=sr(s,"=");i===void 0&&(i=s),o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:u(o,e),t(u(i,e),o,n)}for(const[a,s]of Object.entries(n))if(typeof s=="object"&&s!==null&&e.types[a]!=="string")for(const[i,o]of Object.entries(s)){const l=e.types[a]?e.types[a].replace("[]",""):void 0;s[i]=Y(o,e,l)}else typeof s=="object"&&s!==null&&e.types[a]==="string"?n[a]=Object.values(s).join(e.arrayFormatSeparator):n[a]=Y(s,e,e.types[a]);return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((a,s)=>{const i=n[s];return a[s]=i&&typeof i=="object"&&!Array.isArray(i)?or(i):i,a},Object.create(null))}function fr(r,e){if(!r)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},ir(e.arrayFormatSeparator);const t=i=>e.skipNull&&Hr(r[i])||e.skipEmptyString&&r[i]==="",n=Jr(e),a={};for(const[i,o]of Object.entries(r))t(i)||(a[i]=o);const s=Object.keys(a);return e.sort!==!1&&s.sort(e.sort),s.map(i=>{const o=r[i];return o===void 0?"":o===null?c(i,e):Array.isArray(o)?o.length===0&&e.arrayFormat==="bracket-separator"?c(i,e)+"[]":o.reduce(n(i),[]).join("&"):c(i,e)+"="+c(o,e)}).filter(i=>i.length>0).join("&")}function dr(r,e){var a;e={decode:!0,...e};let[t,n]=sr(r,"#");return t===void 0&&(t=r),{url:((a=t==null?void 0:t.split("?"))==null?void 0:a[0])??"",query:V(P(r),e),...e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:u(n,e)}:{}}}function lr(r,e){e={encode:!0,strict:!0,[M]:!0,...e};const t=cr(r.url).split("?")[0]||"",n=P(r.url),a={...V(n,{sort:!1}),...r.query};let s=fr(a,e);s&&(s=`?${s}`);let i=Qr(r.url);if(typeof r.fragmentIdentifier=="string"){const o=new URL(t);o.hash=r.fragmentIdentifier,i=e[M]?o.hash:`#${r.fragmentIdentifier}`}return`${t}${s}${i}`}function ur(r,e,t){t={parseFragmentIdentifier:!0,[M]:!1,...t};const{url:n,query:a,fragmentIdentifier:s}=dr(r,t);return lr({url:n,query:Br(a,e),fragmentIdentifier:s},t)}function Wr(r,e,t){const n=Array.isArray(e)?a=>!e.includes(a):(a,s)=>!e(a,s);return ur(r,n,t)}const Xr=Object.freeze(Object.defineProperty({__proto__:null,exclude:Wr,extract:P,parse:V,parseUrl:dr,pick:ur,stringify:fr,stringifyUrl:lr},Symbol.toStringTag,{value:"Module"}));async function C(){const{url:r}=$r,e=Xr.stringifyUrl({url:"/login",query:{next:r.pathname}});await jr(e)}function Yr(){Rr(),C()}var Zr=g('<button><!> <p class="ms-3 font-medium">Login</p></button>'),re=g("<div><button><p>Logout</p></button> <button><p>Toggle dark mode</p></button></div>"),ee=(r,e)=>xr(e,!F(e)),te=g('<!> <button><img class="h-11 rounded-full border dark:border-gray-500"> <p class="ms-3 truncate"> </p></button>',1),ne=g('<div class="absolute bottom-0 mt-3 w-full border-t bg-inherit pt-3 dark:border-gray-500"><!></div>');function ae(r,e){Z(e,!0);const[t,n]=Or(),a=()=>Q(Ur,"$accessTokenStore",t),s=()=>Q(Dr,"$userInfo",t),i=`${Ar}/minhnbnt.png`;let o=Fr(!1);const l=k("flex w-full select-none items-center rounded-lg p-2 text-lg hover:bg-red-100","transition-colors duration-200 dark:hover:bg-rose-950"),p=k("mb-3 flex min-w-fit flex-col rounded-lg bg-white p-1 shadow","dark:bg-gray-800 dark:shadow-none"),O=k("m-1 rounded px-1 text-start hover:bg-gray-100","dark:hover:bg-gray-700");var _=ne(),j=d(_);{var E=S=>{var h=Zr();y(h,1,b(l)),h.__click=function(...$){C==null||C.apply(this,$)};var I=d(h);nr(I,{src:Cr,solid:!0,class:"size-7"}),er(2),f(h),m(S,h)},mr=(S,h)=>{{var I=w=>{Ir(w,{class:"size-12 animate-spin fill-red-400 text-gray-300"})},$=w=>{var z=te();const B=_r(()=>s().username);var H=hr(z);{var gr=D=>{var v=re();y(v,1,b(p));var R=d(v);y(R,1,b(O)),R.__click=[Yr];var J=x(R,2);y(J,1,b(O)),J.__click=function(...br){var G;(G=Lr)==null||G.apply(this,br)},f(v),vr(3,v,()=>kr,()=>({duration:200,y:20})),m(D,v)};L(H,D=>{F(o)&&D(gr)})}var A=x(H,2);y(A,1,b(l)),A.__click=[ee,o];var U=d(A);N(U,"src",i);var K=x(U,2),yr=d(K,!0);f(K),f(A),q(()=>{N(U,"alt",F(B)),tr(yr,F(B))}),m(w,z)};L(S,w=>{s()===void 0?w(I):w($,!1)},h)}};L(j,S=>{a()===void 0?S(E):S(mr,!1)})}f(_),m(r,_),rr(),n()}pr(["click"]);var se=g('<a><div class="flex items-center p-2 font-medium"><!> <p class="ms-3"> </p></div></a>'),ie=g('<div class="mt-3 border-t pt-3 dark:border-gray-500"></div>');function oe(r,e){const t=[{name:"Problems",href:"/problems",icon:Nr},{name:"Submissions",href:"/submissions",icon:Er}];var n=ie();Tr(n,21,()=>t,Mr,(a,s)=>{let i=()=>F(s).icon,o=()=>F(s).href,l=()=>F(s).name;var p=se(),O=d(p),_=d(O);nr(_,{get src(){return i()},class:"h-7 text-gray-700 dark:text-gray-400",solid:!0});var j=x(_,2),E=d(j,!0);f(j),f(O),f(p),q(()=>{y(p,1,b(e.class)),N(p,"href",o()),tr(E,l())}),m(a,p)}),f(n),m(r,n)}var ce=g('<a><div class="flex items-center p-2"><div class="flex h-9 space-x-2"><!></div> <p class="ms-2 text-xl font-semibold">Online Judge</p></div></a>');function fe(r,e){const t="https://svelte.dev/";var n=ce();N(n,"href",t);var a=d(n),s=d(a),i=d(s);qr(i),f(s),er(2),f(a),f(n),q(()=>y(n,1,b(e.class))),m(r,n)}var de=g('<aside><div class="relative h-full"><!> <!> <!></div></aside>');function le(r,e){Z(e,!1);const t=k("sticky top-0 z-40 h-screen min-w-64 bg-red-50 p-3 shadow","dark:border-r dark:border-gray-500 dark:bg-gray-900 dark:text-white dark:shadow-none"),n=k("flex rounded-lg transition-colors duration-200 hover:bg-red-100","dark:hover:bg-rose-950");wr();var a=de();y(a,1,b(t));var s=d(a),i=d(s);fe(i,{class:n});var o=x(i,2);oe(o,{class:n});var l=x(o,2);ae(l,{}),f(s),f(a),m(r,a),rr()}var ue=g('<div class="relative flex bg-gray-50 dark:bg-gray-950"><!> <main class="grow"><!></main></div>');function Ie(r,e){var t=ue(),n=d(t);le(n,{});var a=x(n,2),s=d(a);Sr(s,()=>e.children),f(a),f(t),m(r,t)}export{Ie as R};
